<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>データ扱い</title>
    <script src="https://www.gstatic.com/firebasejs/5.5.6/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyBUpIV-sxgTWNdUal2Q9Mx7FwJ91uSK-Mo",
            authDomain: "tofurtc.firebaseapp.com",
            databaseURL: "https://tofurtc.firebaseio.com",
            projectId: "tofurtc",
            storageBucket: "tofurtc.appspot.com",
            messagingSenderId: "542366490475"
        };
        firebase.initializeApp(config);
    </script>
</head>

<body>
    <h1>firebaseへデータの保存</h1>

    <!--    set()	users/<user-id>/<username> など、定義済みのパスへのデータの書き込みや、データの置換を行います。
            push()	データのリストに追加します。push() を呼び出すたびに、Firebase によって一意のキーが生成されます。このキーは user-posts/<user-id>/<unique-post-id> のような一意の ID としても使用できます。
            update()	データのすべてを置換することなく、定義済みのパスのキーの一部を更新します。
            transaction()	同時更新によって破損する可能性がある複合データを更新します。 -->

    <script type="text/javascript">
        
        function writeUserData(userId, name, email, imageUrl) {
            firebase.database().ref('users/' + userId).set({
                username: name,
                email: email,
                profile_picture: imageUrl
            });
        }

    </script>
</body>

</html>